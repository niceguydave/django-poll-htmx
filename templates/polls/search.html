{% extends "base.html" %}

{% block main_content %}
<h4>Search results</h4>
<div class="search-inputs">
    <form method="GET" action="{% url 'polls:search' %}">
    <div class="input-group mb-3">
      <input
            type="text"
            name="search_text"
            placeholder="Search for a poll"
            class="form-control"
            value="{{ search_text }}"
            hx-get="{% url 'polls:search' %}"
            hx-trigger="keyup[target.value.length > 1] changed delay:500ms"
            hx-target="#search-results"
            hx-push-url="true"
      >
      <div class="input-group-append">
        <input type="submit" value="Search" class="btn btn-outline-secondary">
      </div>
    </div>
    </form>
</div>


<div class="polls search-results" id="search-results">
    {% include "polls/partials/search_results.html" %}
</div>

{% endblock %}