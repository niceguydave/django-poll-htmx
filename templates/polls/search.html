{% extends "base.html" %}

{% block main_content %}
<h4>Search results</h4>
<div class="search-inputs">
    <form method="GET" action="{% url 'polls:search' %}">
    <div class="input-group mb-3">
      <input
            type="text"
            name="search_text"
            placeholder="Search for a poll"
            class="form-control"
            value="{{ search_text }}"
      >
      <div class="input-group-append">
        <input type="submit" value="Search" class="btn btn-outline-secondary">
      </div>
    </div>
    </form>
</div>


<div class="polls search-results" id="search-results">

    {% if polls is not None %}
      <div class="search-result-count">
          {{polls|length}}
          {{polls|length|pluralize:"result,results"}}
      </div>
    {% endif %}

    {% if errors %}
        {% for error in errors %}
            <p class="error">{{ error }}</p>
        {% endfor %}
    {% endif %}

    <div class="container">
      {% for poll in polls %}
        <div class="row search-result-row">
          <div class="search-result">
            <a href="{% url 'polls:detail' poll.id %}"
              >{{ poll.question_text }}</a>
          </div>
        </div>
      {% endfor %}
    </div>
</div>

{% endblock %}